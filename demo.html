<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="pragma" content="no-cache">
	<title>TextArea Demo Page</title>
	<link rel="stylesheet" href="demo.css" type="text/css">		<!-- for textarea and demo -->
	<script type="text/javascript" src="demo.js"></script>		<!-- for demo -->
	<script type="text/javascript" src="tags.js"></script>		<!-- for zen -->
	<script type="text/javascript" src="pta.js"></script>			<!-- uncompressed dev source -->
</head>
<body>

<h2><i>Programming Textarea demo</i></h2>

<textarea id="TA" rows="12" cols="54" wrap="off"
		spellcheck="false" placeholder="textarea 1"></textarea>
<br>
<div class="TOOL">
	&nbsp;&nbsp;&nbsp;&nbsp;
	<input type="button" value="render"	 onclick="render('TA');">&nbsp;
	<input type="button" value="find" 	 onclick="Pta.findr.findText('TA','S1');">
	<input type="search" id="S1" size="6">&nbsp;
	<input type="button" value="replace" onclick="Pta.findr.replaceOne('TA','S1','R1');">
	<input type="search" id="R1" size="6">&nbsp;
	<input type="button" value="rep all" onclick="Pta.findr.replaceAll('TA','S1','R1');">

</div>
<br><br>
<textarea id="TB" rows="12" cols="54" wrap="off" 
		spellcheck="false"placeholder="textarea 2"></textarea>
<br>
<div class="TOOL">
	&nbsp;&nbsp;&nbsp;&nbsp;
	<input type="button" value="render"	 onclick="render('TB');">&nbsp;
	<input type="button" value="find" 	 onclick="Pta.findr.findText('TB','S2');">
	<input type="search" id="S2" size="6">&nbsp;
	<input type="button" value="replace" onclick="Pta.findr.replaceOne('TB','S2','R2');">
	<input type="search" id="R2" size="6">&nbsp;
	<input type="button" value="rep all" onclick="Pta.findr.replaceAll('TB','S2','R2');">

</div>
<br><br>
<pre><span style="color:gray">
alt-enter	insert &lt;br&gt; (added to demo.html with Pta.insClip)
ctrl-space	insert non-blanking-space (added to demo.html with Pta.insClip)
alt-c		insert html comment tags (added to demo.html with Pta.insClip)</span>
alt-d		duplicate character
alt-j		Join Lines
alt-q		match braces (or ctrl-left-click)
alt-j		join lines
alt-z		zen insert on key word
alt-a		zen wrap with tag
alt-w		repeat last wrap with tag
alt-l		insert/remove line numbers
Tab		find next of selected
</pre>

<!-- This Javascript last to load -->
<script type="text/javascript">

Pta.listeners.initialize("TA");		/* init textarea 1 */
Pta.listeners.initialize("TB");		/* init textarea 2 */

document.getElementById("TA").style.tabSize = 2;	// Optional
document.getElementById("TB").style.tabSize = 4;	// Optional
document.getElementById("TA").style.MozTabSize = 2;	// Optional Ffox
document.getElementById("TB").style.MozTabSize = 4;	// Optional Ffox

/* 
without the above tabSize settings the tabsize will default 
to your CSS tab-size setting or else the browser default
*/

// Use Pts.insClip(id, txt) to set up other keyboard handlers

		document.getElementById("TA").addEventListener("keydown", function(event) {
		if (event.keyCode === 13 && event.altKey) {
			event.preventDefault();
			Pta.insClip("TA", "<br>");
			return;
		}
		if (event.keyCode === 32 && event.ctrlKey) {
			event.preventDefault();
			Pta.insClip("TA", "&nbsp;");
			return;
		}
		if (String.fromCharCode(event.which).toLowerCase() === "c" && event.altKey) {
			event.preventDefault();
			Pta.insClip("TA", "\x3c!--\t--\x3e");
			return;
		}
	});
		document.getElementById("TB").addEventListener("keydown", function(event) {
		if (event.keyCode === 13 && event.altKey) {
			event.preventDefault();
			Pta.insClip("TB", "<br>");
			return;
		}
		if (event.keyCode === 32 && event.ctrlKey) {
			event.preventDefault();
			Pta.insClip("TB", "&nbsp;");
			return;
		}
		if (String.fromCharCode(event.which).toLowerCase() === "c" && event.altKey) {
			event.preventDefault();
			Pta.insClip("TB", "\x3c!--\t--\x3e");
			return;
		}
	});

</script>

</body>
</html>
